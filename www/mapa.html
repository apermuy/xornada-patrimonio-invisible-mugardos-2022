<!DOCTYPE HTML>
<!--
	Story by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>

<head>
	<title>Xornada de patrimonio (invisible)</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<link rel="stylesheet" href="assets/css/main.css" />

	<noscript>
		<link rel="stylesheet" href="assets/css/noscript.css" />
	</noscript>
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.2/dist/leaflet.css"
		integrity="sha256-sA+zWATbFveLLNqWO2gtiw3HL/lh1giY/Inf1BJ0z14=" crossorigin="" />
	<script src="https://unpkg.com/leaflet@1.9.2/dist/leaflet.js"
		integrity="sha256-o9N1jGDZrf5tS+Ft4gbIK7mYMipq9lqpVJ91xHSyKhg=" crossorigin=""></script>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
	<script src='https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/Leaflet.fullscreen.min.js'></script>
	<link href='https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/leaflet.fullscreen.css'
		rel='stylesheet' />
</head>

<body class="is-preload">

			<div id="map"></div>


	</div>

	<!-- Scripts -->
	<script src="2022-geojson.js" type="text/javascript"></script>

	<script>
		var osm = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
			maxZoom: 19,
			attribution: '© OpenStreetMap'
		});

		var black = L.tileLayer('https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_nolabels/{z}/{x}/{y}.png', {
			maxZoom: 19,
			attribution: '© OpenStreetMap'
		});


		var baseMaps = {
			"OpenStreetMap": osm,
			"CartoDB Negro": black
		};

		const map = L.map('map', {
			center: [43.3571, -8.2561],
			zoom: 12,
			layers: [osm, black],
			fullscreenControl: true,
            fullscreenElement: true,
			fullscreenControlOptions: {
				position: 'topleft'
			}
		});

		var layerControl = L.control.layers(baseMaps).addTo(map);

		//L.tileLayer('https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_nolabels/{z}/{x}/{y}.png').addTo(map);

		//TODO https://gis.stackexchange.com/questions/227139/custom-marker-and-properties-from-geojson-in-leaflet

		var geojsonMarkerOptions = {
			radius: 6,
			fillColor: "#ff7800",
			color: "#000",
			weight: 1,
			opacity: 1,
			fillOpacity: 0.8
		};


		function onEachFeature(feature, layer) {
			layer.bindPopup('<h3>' + feature.properties.title + '</h3>' + '<p>' + feature.properties.paragraph_1 + '</p>' + '<p>' + feature.properties.paragraph_2 + '</p>' +
				'<h5>' + feature.properties.person + ' - ' + feature.properties.neighborhood + '</h5>' +

				'<img src=\"images/' + feature.id + '.png\"\/>' +

				'<audio src=\ "' + feature.properties.mp3_file + '\ " preload="none" controls>O teu navegador non soporta o elemento <code>audio</code>.</audio>' +

				'<br/>'

			);
		}


		L.geoJSON(elementos, {
			pointToLayer: function (feature, latlng) {
				return L.circleMarker(latlng, geojsonMarkerOptions);
			},

			onEachFeature: onEachFeature

		}).addTo(map);


	

	</script>
	<script src="assets/js/jquery.min.js"></script>
	<script src="assets/js/jquery.scrollex.min.js"></script>
	<script src="assets/js/jquery.scrolly.min.js"></script>
	<script src="assets/js/browser.min.js"></script>
	<script src="assets/js/breakpoints.min.js"></script>
	<script src="assets/js/util.js"></script>
	<script src="assets/js/main.js"></script>

</body>

</html>